<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Profile</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
    /* page style aligned with sign-in / signup (updated to match provided screenshot) */
    body {
      background: radial-gradient(1200px 600px at 6% 10%, rgba(11,22,36,0.95), rgba(6,10,16,0.97)) fixed;
      color: #e6eef6;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:40px 14px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    /* center, compact, sign-in style card */
    .profile-card {
      width: 660px;
      max-width: calc(100% - 50px);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: 16px;
      padding: 28px 32px;
      box-shadow: 0 40px 120px rgba(2,6,23,0.7), inset 0 1px 0 rgba(255,255,255,0.02);
      border: 1px solid rgba(255,255,255,0.03);
    }
    .avatar { border:2px solid rgba(255,255,255,0.06); box-shadow: 0 8px 40px rgba(0,0,0,0.6); border-radius: 12px; }
    h3 { margin:0 0 6px; color: #f4f7fb; font-weight:700; }
    .small-muted { color: rgba(230,238,246,0.65); }

    /* floating field matching signup style, dark variant */
    .field { position: relative; margin-bottom: 12px; display:block; }
    .field .input {
      width:100%;
      padding: 18px 12px 10px; /* increased top padding so typed text never overlaps floating label */
      box-sizing:border-box;
      border-radius:10px;
      border: 1px solid rgba(255,255,255,0.04);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));
      color: #e8f1ff;
      outline: none;
    }
    .field .flabel {
      position: absolute; left:12px; top:12px; pointer-events:none;
      transition: transform .16s, top .16s, color .16s;
      transform-origin: left center;
      color: rgba(230,238,246,0.7);
      font-size:0.9rem;
      z-index:2;
      padding:0 6px;
      background: linear-gradient(90deg, rgba(0,0,0,0.0), rgba(0,0,0,0));
    }
    .field.filled .flabel, .field .input:focus + .flabel {
      transform: translateY(-58%) scale(.86);
      top:8px;
      color: #ffd86b;
    }
    /* visually indicate when fields are editable */
    .profile-card.editing .field .input { box-shadow: 0 6px 20px rgba(255,216,107,0.07); border-color: rgba(255,216,107,0.14); }
    .field .input[readonly] { cursor: text; opacity: .96; }
    .field .underline { height:2px; margin-top:8px; background:transparent; border-radius:8px; transition: background .12s; display:block; }
    .field .input:focus ~ .underline { background: rgba(255,216,107,0.14); }
    .input.is-invalid { border-color: rgba(220,53,69,0.9) !important; box-shadow: 0 0 0 4px rgba(220,53,69,0.06); }

    /* golden CTA button (matches sign-in) */
    .btn-cta {
      background: linear-gradient(90deg, #d6a83b, #ffd86b);
      color: #0b0810;
      border: none;
      padding: 12px 18px;
      border-radius: 10px;
      box-shadow: 0 10px 28px rgba(214,168,59,0.12);
      font-weight:700;
    }
    /* large primary look used for the main action where needed */
    .btn-cta.primary-wide { width:100%; padding:14px 18px; font-size:1rem; border-radius:12px; }
    .btn-ghost { background: transparent; border: 1px solid rgba(255,255,255,0.06); color: rgba(230,238,246,0.9); }

    /* progress + activity adjustments for dark background */
    .profile-progress { background: rgba(255,255,255,0.03); }
    .profile-progress > .bar { box-shadow:none; background: linear-gradient(90deg, rgba(255,216,107,0.95), rgba(255,205,77,0.85)); }
    .progress-value { color: #ffd86b; }

    .activity-entry { background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); border: 1px solid rgba(255,255,255,0.03); color: rgba(230,238,246,0.85); font-size:0.92rem; }
    .toast { background: rgba(10,14,20,0.9); color: #fff; }

    /* subtle fade-out when navigating away on sign-out */
    .fade-out { opacity: .25 !important; transition: opacity .36s ease; pointer-events: none; }

    /* make the avatar drop area clearly actionable */
    .avatar-drop { cursor: pointer; user-select: none; }
    /* keep a hidden file input reachable by script (not display:none) */
    .file-hidden { position: absolute !important; left: -9999px; width: 1px; height: 1px; overflow: hidden; }
  </style>
</head>
<body>
  <div class="profile-card">

    <!-- TOP SECTION -->
    <div class="row" style="margin-bottom:20px; align-items:center;">
      
      <!-- Avatar -->
      <div class="col-md-4 text-center">
        <img id="p_avatar" class="avatar"
             style="width:140px; height:140px; object-fit:cover; border-radius:12px; margin-bottom:10px;" />
        
        <div style="margin-top:10px;">
            <button id="uploadBtn" class="btn btn-ghost btn-sm">Change avatar</button>
            <button id="removeAvatarBtn" class="btn btn-outline-danger btn-sm hidden">Remove avatar</button>
            <input id="avatarInput" type="file" accept="image/*" class="file-hidden" />
        </div>
      </div>

      <!-- Name + Email + Last Login -->
      <div class="col-md-8">
        <h2 id="p_name" style="margin:0; font-weight:700;"></h2>
        <div id="p_email" class="small-muted"></div>
        <div id="p_lastlogin" class="small-muted" style="margin-bottom:15px;"></div>

        <button onclick="window.location.href='index.html'" 
                class="btn btn-ghost btn-sm" style="margin-right:10px;">
                Sign out
        </button>

        <button id="editBtnTop" class="btn btn-cta hidden" style="padding:10px 24px;">
          Save changes
        </button>
      </div>

    </div>

    <!-- PROFILE INPUT FIELDS -->
    <div class="mt-4">
      <div class="row">
        <div class="col-md-6">
          <div class="field">
            <input id="input_name" name="name" class="input" type="text" readonly />
            <label class="flabel">Name</label>
            <div class="underline"></div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="field">
            <input id="input_phone" name="phone"  class="input" type="text" readonly />
            <label class="flabel">Phone</label>
            <div class="underline"></div>
          </div>
        </div>
      </div>

      <button id="editBtn" class="btn btn-cta" style="margin-top:10px;">Edit</button>
    </div>

    <hr>

    <!-- CHANGE PASSWORD SECTION -->
    <h5 style="margin-bottom:10px;">Change Password</h5>
    
    <div class="field">
        <input id="currentPw" class="input" type="password">
        <label class="flabel">Current Password</label>
        <div class="underline"></div>
    </div>

    <div class="field">
        <input id="newPw" class="input" type="password">
        <label class="flabel">New Password</label>
        <div class="underline"></div>
    </div>

    <div class="field">
        <input id="confirmPw" class="input" type="password">
        <label class="flabel">Confirm Password</label>
        <div class="underline"></div>
    </div>

    <button id="changePwBtn" class="btn btn-success" style="width:100%; margin-top:10px;">
      Update Password
    </button>

    <hr>

    <div style="margin-top:8px; display:flex; justify-content:space-between; align-items:center;">
      <div class="small-muted">Account actions</div>
      <button id="deleteBtn" class="btn btn-danger">Delete account</button>
    </div>

  </div>


  <!-- Toast notifications -->
  <div id="toastWrap" class="toast-wrap"></div>




  <!-- JAVASCRIPT -->
  <script src="assets/js/main.js">
//   (function () {
//     function ready(fn){ document.readyState!=="loading"?fn():document.addEventListener("DOMContentLoaded",fn); }

//     function wireFloating(el){
//       if(!el) return;
//       function toggle(){
//         let parent = el.closest(".field");
//         if(el.value.trim() !== "") parent.classList.add("filled");
//         else parent.classList.remove("filled");
//       }
//       el.addEventListener("input",toggle);
//       el.addEventListener("blur",toggle);
//       toggle();
//     }

//     function getUsers(){ return JSON.parse(localStorage.getItem("users")||"[]"); }
//     function saveUsers(u){ localStorage.setItem("users",JSON.stringify(u)); }
//     function getCurrent(){ return JSON.parse(localStorage.getItem("currentUser")||"null"); }
//     function setCurrent(u){ localStorage.setItem("currentUser",JSON.stringify(u)); }

//     function showToast(msg){
//       let t = document.createElement("div");
//       t.className="toast"; t.textContent=msg;
//       toastWrap.appendChild(t);
//       setTimeout(()=>t.classList.add("show"),10);
//       setTimeout(()=>{t.classList.remove("show"); setTimeout(()=>t.remove(),200)},2400);
//     }

// ready(function(){

//   // Elements
//   var p_avatar=document.getElementById("p_avatar");
//   var p_name=document.getElementById("p_name");
//   var p_email=document.getElementById("p_email");
//   var p_lastlogin=document.getElementById("p_lastlogin");

//   var input_name=document.getElementById("input_name");
//   var input_phone=document.getElementById("input_phone");

//   var editBtn=document.getElementById("editBtn");
//   var editBtnTop=document.getElementById("editBtnTop");

//   var uploadBtn=document.getElementById("uploadBtn");
//   var removeAvatarBtn=document.getElementById("removeAvatarBtn");
//   var avatarInput=document.getElementById("avatarInput");

//   var currentPw=document.getElementById("currentPw");
//   var newPw=document.getElementById("newPw");
//   var confirmPw=document.getElementById("confirmPw");
//   var changePwBtn=document.getElementById("changePwBtn");

//   var deleteBtn=document.getElementById("deleteBtn");

//   var toastWrap=document.getElementById("toastWrap");

//   wireFloating(input_name);
//   wireFloating(input_phone);
//   wireFloating(currentPw);
//   wireFloating(newPw);
//   wireFloating(confirmPw);

//   let users = getUsers();
//   let current = getCurrent();
//   if(!current){ window.location="index.html"; return; }

//   let index = users.findIndex(u=>u.email===current.email);
//   let rec = users[index];

//   // Render UI
//   function render(){
//     p_name.textContent = rec.name;
//     p_email.textContent = rec.email;
//     p_lastlogin.textContent = "Last login: " + new Date().toLocaleString();
//     input_name.value = rec.name;
//     input_phone.value = rec.phone || "";
//     p_avatar.src = rec.avatar || "https://via.placeholder.com/140?text=Avatar";
//   }
//   render();


//   /* EDIT PROFILE */
//   let editing = false;

//   editBtn.onclick = function(){
//     if(!editing){
//       editing = true;
//       editBtn.textContent="Save";
//       input_name.removeAttribute("readonly");
//       input_phone.removeAttribute("readonly");
//       editBtnTop.classList.remove("hidden");
//     } else {
//       saveProfile();
//     }
//   };

//   editBtnTop.onclick = ()=> editing && saveProfile();

//   function saveProfile(){
//     rec.name = input_name.value.trim();
//     rec.phone = input_phone.value.trim();
//     users[index] = rec;
//     saveUsers(users);
//     setCurrent(rec);

//     editing=false;
//     editBtn.textContent="Edit";
//     input_name.setAttribute("readonly",true);
//     input_phone.setAttribute("readonly",true);
//     editBtnTop.classList.add("hidden");

//     showToast("Profile updated");
//     render();
//   }


//   /* AVATAR UPLOAD */
//   uploadBtn.onclick = ()=> avatarInput.click();

//   avatarInput.onchange = function(){
//     let f=this.files[0];
//     if(!f) return;

//     let reader = new FileReader();
//     reader.onload = e=>{
//       rec.avatar = e.target.result;
//       users[index] = rec;
//       saveUsers(users);
//       setCurrent(rec);
//       render();
//       removeAvatarBtn.classList.remove("hidden");
//       showToast("Avatar updated");
//     };
//     reader.readAsDataURL(f);
//   };


//   /* REMOVE AVATAR */
//   removeAvatarBtn.onclick = function(){
//     rec.avatar = "";
//     users[index]=rec;
//     saveUsers(users);
//     setCurrent(rec);
//     render();
//     removeAvatarBtn.classList.add("hidden");
//     showToast("Avatar removed");
//   };


//   /* CHANGE PASSWORD */
//   changePwBtn.onclick = function(){
//     if(currentPw.value !== rec.password){
//       showToast("Current password incorrect");
//       return;
//     }
//     if(newPw.value.length < 6){
//       showToast("Password too short");
//       return;
//     }
//     if(newPw.value !== confirmPw.value){
//       showToast("Passwords do not match");
//       return;
//     }

//     rec.password = newPw.value;
//     users[index] = rec;
//     saveUsers(users);

//     currentPw.value = newPw.value = confirmPw.value = "";
//     showToast("Password updated");
//   };


//   /* DELETE ACCOUNT */
//   deleteBtn.onclick = function(){
//     if(!confirm("Delete your account permanently?")) return;

//     users.splice(index,1);
//     saveUsers(users);
//     localStorage.removeItem("currentUser");

//     window.location="index.html";
//   };

// });
// })();
  </script>

</body>


</html>